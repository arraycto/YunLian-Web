(function(){var params={};if(document){params.domain=document.domain||"";params.url=document.URL||"";params.title=document.title||"";params.referrer=document.referrer||"";var url=params.url;var refer=params.referrer;if(url!=undefined&&url!=null&&url!=""){var articleTypeJson={"article":1,"activity":2,"author":3,"theme":4};var urlArr=url.split("/");if(urlArr.length>=5){for(var json in articleTypeJson){if(url.indexOf(json)>0){if(json==urlArr[3]){var uArr=urlArr[4];params.articleType=articleTypeJson[json];params.articleId=uArr}if(json==urlArr[2]){var uArr=urlArr[4];params.activityType=articleTypeJson[json];params.activityId=uArr}}}}var fromJson={"from=singlemessage":"微信好友分享","from=timeline":"朋友圈分享","from=groupmessage":"微信群分享","mp.weixinbridge.com":"微信公众号"};for(var json in fromJson){if(url.indexOf(json)>0){params.source=fromJson[json];break}}if(params.source==undefined&&refer!=undefined&&refer!=null&&refer!=""){if(refer.indexOf("baidu.com")>0){params.source="百度搜索"}else{if(urlArr.length>=3){var urlDomain=urlArr[2];var referArr=refer.split("/");if(referArr.length>=3){if(referArr[2].indexOf(urlDomain)>0){params.source="直接访问"}else{params.source=referArr[2]}}}}}else{if(params.source==undefined&&refer==""){params.source="直接访问"}}if(url.indexOf("?")>0){params.pageurl=url.split("?")[0]}else{params.pageurl=url}}}if(window&&window.screen){var sh=window.screen.height||0;var sw=window.screen.width||0;params.res=sw+"*"+sh;params.cd=window.screen.colorDepth||0}if(navigator){params.lang=navigator.language||"";params.platform=navigator.platform||"";var ua=navigator.userAgent;if(ua.length>250){ua=ua.substring(0,250)}params.brower=analyzeBrowser(ua)}params.cookieid=getStatId("zstatId");var phone=document.getElementById("sessionPhone");if(phone){params.phone=phone.value}else{params.phone="phone"}if(remote_ip_info.country){params.country=remote_ip_info.country;params.province=remote_ip_info.province;params.city=remote_ip_info.city;params.isp=remote_ip_info.isp}if(_maq){for(var i in _maq){switch(_maq[i][0]){case"web_id":params.webid=_maq[i][1];break;default:break}}}var args="";for(var i in params){if(args!=""){args+="&"}args+=i+"="+encodeURIComponent(params[i])}var img=new Image(1,1);img.src="http://tj.vjuzhen.com/stat.gif?"+args})();function getStatId(statIdName){var statId=getCookie(statIdName);if(statId!=null&&statId.length>0){return statId}else{setStatId(statIdName);return getStatId(statIdName)}}function getCookie(c_name){if(document.cookie.length>0){c_start=document.cookie.indexOf(c_name+"=");if(c_start!=-1){c_start=c_start+c_name.length+1;c_end=document.cookie.indexOf(";",c_start);if(c_end==-1){c_end=document.cookie.length}return unescape(document.cookie.substring(c_start,c_end))}}return""}function setStatId(statIdName){var cookieId=genStatId();setCookie(statIdName,cookieId,365)}function genStatId(){var cookieId=getTimestamp();cookieId="zstat"+"-"+cookieId+"-"+Math.round(Math.random()*3000000000);return cookieId}function setCookie(c_name,value,expiredays){var exdate=new Date();exdate.setDate(exdate.getDate()+expiredays);document.cookie=c_name+"="+escape(value)+((expiredays==null)?"":";expires="+exdate.toGMTString())}function getTimestamp(){var timestamp=Date.parse(new Date());return timestamp}function analyzeBrowser(userAgent){var browserKeyArr=[{name:"遨游",agentKey:"Maxthon"},{name:"微信",agentKey:"MicroMessenger"},{name:"欧朋",agentKey:"Opera"},{name:"QQ浏览器",agentKey:"QQBrowser"},{name:"QQ",agentKey:"MQQBrowser"},{name:"QQ",agentKey:"TencentTraveler"},{name:"火狐",agentKey:"Firefox"},{name:"谷歌",agentKey:"Chrome"},{name:"360",agentKey:"360SE"},{name:"360极速",agentKey:"360EE"},{name:"UC",agentKey:"UCWEB"},{name:"UC",agentKey:"UBrowser"},{name:"搜狗",agentKey:"MetaSr"},{name:"Navigator",agentKey:"Navigator"},{name:"猎豹",agentKey:"LBBROWSER"},{name:"世界之窗",agentKey:"TheWorld"},{name:"淘宝",agentKey:"TaoBrowser"},{name:"Safari",agentKey:"Safari"},{name:"IE",agentKey:"MSIE"},{name:"IE",agentKey:"Trident"},{name:"其他",agentKey:""}];for(var i=0,length=browserKeyArr.length;i<length;i++){var pattern=new RegExp(browserKeyArr[i].agentKey);if(pattern.test(userAgent)){return browserKeyArr[i].name}}};